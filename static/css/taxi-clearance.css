/* TAXI CLEARANCE */
.taxi-clearance-box {
    border-radius: 8px;
    border: 1px solid #333;
    max-width: 100%;
    box-shadow: var(--shadow-lg);
    transition: all 0.3s ease;
    grid-row: 2;
}

.clearance-box {
    height: max-content;
    overflow-y: auto;
    padding: 12px;
    font-family: 'Courier New', monospace;
    line-height: 1.2;
    transition: all 0.3s ease;
}

/* ACTIVE STATE */
.taxi-clearance-box.active > h2 {
    color: var(--color-loaded);
}
.taxi-clearance-box.active .clearance-box {
    color: var(--text-primary);
}

@keyframes clearancePulse {
    0% {
        box-shadow: 0 0 0px rgba(52, 152, 219, 0.0);
        transform: scale(1);
    }
    30% {
        box-shadow: 0 0 12px rgba(52, 152, 219, 0.6);
        transform: scale(1.02);
    }
    100% {
        box-shadow: 0 0 0px rgba(52, 152, 219, 0);
        transform: scale(1);
    }
}

.taxi-clearance-box.pulse {
    animation: clearancePulse 0.6s ease;
}


/* INACTIVE PLACEHOLDER */
.taxi-clearance-box:not(.active) .clearance-box {
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted);
    font-style: italic;
}

/* TOKEN GRID */
.clearance-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    align-items: flex-start;
}

/* INDIVIDUAL TOKEN */
.taxi-token {
    background-color: var(--color-bg-dim);
    border: 1px solid var(--color-loaded);
    color: var(--text-primary);
    border-radius: 4px;
    padding: 6px 12px;
    font-size: 1rem;
    transition: all 0.2s ease;
    user-select: none;
    white-space: nowrap;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.taxi-token:hover {
    background-color: var(--hover-token-bg);
}

/* STATES */
.taxi-token.done {
    background-color: var(--color-fg-dark);
    color: var(--text-disabled);
    border-color: var(--border-primary);
    opacity: 0.6;
}

.taxi-token.next {
    background-color: var(--token-next-bg);
    border-color: var(--color-loaded);
    color: var(--white);
    font-weight: 600;
}

.taxi-clearance-title {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.taxi-clearance-title .status {
    visibility: hidden;
}

#taxi-clearance-status.active {
    visibility: visible;
    background-color: var(--color-loaded);
}

#taxi-clearance-status.active.executed {
    background-color: var(--color-executed);
}